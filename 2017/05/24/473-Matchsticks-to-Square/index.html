<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>473 Matchsticks to Square | 打满鸡血来刷题</title><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/5.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.2/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.2/grids-responsive-min.css"><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">473 Matchsticks to Square</h1><a id="logo" href="/.">打满鸡血来刷题</a><p class="description">心得 · 笔记 · 分享</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">473 Matchsticks to Square</h1><div class="post-meta">May 24, 2017<span> | </span><span class="category"><a href="/categories/LeetCode/">LeetCode</a></span><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> Hits</span></span></div><div class="post-content"><p>Remember the story of Little Match Girl? By now, you know exactly what matchsticks the little match girl has, please find out a way you can make one square by using up all those matchsticks. You should not break any stick, but you can link them up, and each matchstick must be used <strong>exactly</strong> one time.</p>
<p>Your input will be several matchsticks the girl has, represented with their stick length. Your output will either be true or false, to represent whether you could make one square using all the matchsticks the little match girl has.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">Input: [1,1,2,2,2]</div><div class="line">Output: true</div><div class="line"></div><div class="line">Explanation: You can form a square with length 2, one side of the square came two sticks with length 1.</div></pre></td></tr></table></figure>
<p><strong>Example 2:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">Input: [3,3,3,3,4]</div><div class="line">Output: false</div><div class="line"></div><div class="line">Explanation: You cannot find a way to form a square with all the matchsticks.</div></pre></td></tr></table></figure>
<p><strong>Note:</strong></p>
<ol>
<li>The length sum of the given matchsticks is in the range of <code>0</code> to <code>10^9</code>.</li>
<li>The length of the given matchstick array will not exceed <code>15</code>.</li>
</ol>
<h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p>利用深度优先搜索可以解决这道题。</p>
<p>正方形的四边长都是一样的。如果数组里的所有元素之和不能被4整除，则不能被拼成一个正方形。如果可以被四整除，我们可以一步步往下搜索，直到找到一个可行的拼法。</p>
<p>我们在做DFS的时候，需要一条边一条边进行搜索。edge_size是待寻找的边的长度，找到一条边，edge_count-1。cur_edge是当前找到的所有边长度的总和。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> Solution &#123;</div><div class="line"><span class="keyword">private</span>:</div><div class="line">    <span class="keyword">bool</span> flag = <span class="literal">false</span>;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">findedge</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="keyword">int</span> edge_size, <span class="keyword">int</span> edge_count, <span class="keyword">int</span> cur_edge)</span></span>&#123;</div><div class="line">        <span class="keyword">if</span>(flag == <span class="literal">true</span>) <span class="keyword">return</span>;</div><div class="line">        <span class="keyword">if</span>(edge_count == <span class="number">4</span>)&#123;</div><div class="line">            <span class="keyword">if</span> (nums.size() == <span class="number">0</span>) flag = <span class="literal">true</span>;</div><div class="line">            <span class="keyword">else</span> <span class="keyword">return</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">else</span>&#123;</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.size(); i++)&#123;</div><div class="line">                <span class="keyword">if</span>(nums[i] &lt; edge_size - cur_edge)&#123;</div><div class="line">                    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; new_nums(nums);</div><div class="line">                    new_nums.erase(new_nums.begin() + i);</div><div class="line">                    findedge(new_nums, edge_size, edge_count, nums[i]+cur_edge);</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">else</span> <span class="keyword">if</span>(nums[i] == edge_size - cur_edge)&#123;</div><div class="line">                    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; new_nums(nums);</div><div class="line">                    new_nums.erase(new_nums.begin() + i);</div><div class="line">                    findedge(new_nums, edge_size, edge_count+<span class="number">1</span>, <span class="number">0</span>);</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">else</span> <span class="keyword">return</span>;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">makesquare</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> sum = <span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.size(); i++)&#123;</div><div class="line">            sum += nums[i];</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span>(sum % <span class="number">4</span> != <span class="number">0</span>)&#123;</div><div class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">else</span>&#123;</div><div class="line">            <span class="comment">//cout &lt;&lt; sum / 4;</span></div><div class="line">            findedge(nums, sum/<span class="number">4</span>, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line">            <span class="keyword">return</span> flag;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure></div><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a data-url="http://wf94.github.io/2017/05/24/473-Matchsticks-to-Square/" data-id="cj52mbje600ij0qd3gmswl8go" class="article-share-link">分享到</a><div class="tags"><a href="/tags/Medium/">Medium</a><a href="/tags/DFS/">DFS</a></div><div class="post-nav"><a href="/2017/05/25/Seeking-Internship-II/" class="pre">找个实习：面经-I</a><a href="/2017/05/24/Seeking-Internship-I/" class="next">找个实习：聊聊心路历程</a></div><div id="container"></div><link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css"><script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script><script>var gitment = new Gitment({
  owner: 'wf94',
  repo: 'github-pages-comment',
  oauth: {
    client_id: '7b0276b84a27a192444a',
    client_secret: '536da99ff5aa11deb7c17dd76e824e2c601f7464',
  },
})
gitment.render('container')</script></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><div class="search-form"><input id="local-search-input" placeholder="Search" type="text" name="q" results="0"/><div id="local-search-result"></div></div></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/LeetCode/">LeetCode</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Tech/">Tech</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/Bit-Manipulation/" style="font-size: 15px;">Bit Manipulation</a> <a href="/tags/Array/" style="font-size: 15px;">Array</a> <a href="/tags/Easy/" style="font-size: 15px;">Easy</a> <a href="/tags/Linked-List/" style="font-size: 15px;">Linked List</a> <a href="/tags/Math/" style="font-size: 15px;">Math</a> <a href="/tags/Medium/" style="font-size: 15px;">Medium</a> <a href="/tags/Two-Pointers/" style="font-size: 15px;">Two Pointers</a> <a href="/tags/Backtracking/" style="font-size: 15px;">Backtracking</a> <a href="/tags/String/" style="font-size: 15px;">String</a> <a href="/tags/Dynamic-Programming/" style="font-size: 15px;">Dynamic Programming</a> <a href="/tags/Divide-and-Conquer/" style="font-size: 15px;">Divide and Conquer</a> <a href="/tags/Stack/" style="font-size: 15px;">Stack</a> <a href="/tags/Binary-Search/" style="font-size: 15px;">Binary Search</a> <a href="/tags/Hash-Table/" style="font-size: 15px;">Hash Table</a> <a href="/tags/Tree/" style="font-size: 15px;">Tree</a> <a href="/tags/DFS/" style="font-size: 15px;">DFS</a> <a href="/tags/BFS/" style="font-size: 15px;">BFS</a> <a href="/tags/Depth-first-Search/" style="font-size: 15px;">Depth-first Search</a> <a href="/tags/Design/" style="font-size: 15px;">Design</a> <a href="/tags/Heap/" style="font-size: 15px;">Heap</a> <a href="/tags/Sort/" style="font-size: 15px;">Sort</a> <a href="/tags/Brainteaser/" style="font-size: 15px;">Brainteaser</a> <a href="/tags/Greedy/" style="font-size: 15px;">Greedy</a> <a href="/tags/Graph/" style="font-size: 15px;">Graph</a> <a href="/tags/Reservoir-Sampling/" style="font-size: 15px;">Reservoir Sampling</a> <a href="/tags/LeetCode/" style="font-size: 15px;">LeetCode</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="http://wf.pe.hu" title="闲情逸致" target="_blank">闲情逸致</a><ul></ul><a href="http://wf.pe.hu/tech/tech-blog/" title="留言板" target="_blank">留言板</a><ul></ul><a href="http://dir.scmor.com/google" title="谷歌搜索（墙内）" target="_blank">谷歌搜索（墙内）</a><ul></ul><a href="http://tianyuh.com" title="塞外麾下炙" target="_blank">塞外麾下炙</a><ul></ul><a href="https://www.xiadong.info/" title="Shell32" target="_blank">Shell32</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">© <a href="/." rel="nofollow"> 2017, Fan Wu.打满鸡血来刷题.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="/css/jquery.fancybox.css?v=0.0.0"><script type="text/javascript" src="/js/search.js?v=0.0.0"></script><script>var search_path = 'search.xml';
if (search_path.length == 0) {
   search_path = 'search.xml';
}
var path = '/' + search_path;
searchFunc(path, 'local-search-input', 'local-search-result');
</script><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>