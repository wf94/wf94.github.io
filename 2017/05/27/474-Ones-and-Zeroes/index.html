<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>474 Ones and Zeroes | 打满鸡血来刷题</title><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/5.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.2/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.2/grids-responsive-min.css"><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">474 Ones and Zeroes</h1><a id="logo" href="/.">打满鸡血来刷题</a><p class="description">心得 · 笔记 · 分享</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">474 Ones and Zeroes</h1><div class="post-meta">May 27, 2017<span> | </span><span class="category"><a href="/categories/LeetCode/">LeetCode</a></span><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> Hits</span></span></div><div class="post-content"><p>In the computer world, use restricted resource you have to generate maximum benefit is what we always want to pursue.</p>
<p>For now, suppose you are a dominator of <strong>m</strong> <code>0s</code> and <strong>n</strong> <code>1s</code> respectively. On the other hand, there is an array with strings consisting of only <code>0s</code> and <code>1s</code>.</p>
<p>Now your task is to find the maximum number of strings that you can form with given <strong>m</strong> <code>0s</code> and <strong>n</strong> <code>1s</code>. Each <code>0</code> and <code>1</code> can be used at most <strong>once</strong>.</p>
<p><strong>Note:</strong></p>
<ol>
<li>The given numbers of <code>0s</code> and <code>1s</code> will both not exceed <code>100</code></li>
<li>The size of given string array won’t exceed <code>600</code>.</li>
</ol>
<p><strong>Example 1:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">Input: Array = &#123;&quot;10&quot;, &quot;0001&quot;, &quot;111001&quot;, &quot;1&quot;, &quot;0&quot;&#125;, m = 5, n = 3</div><div class="line">Output: 4</div><div class="line"></div><div class="line">Explanation: This are totally 4 strings can be formed by the using of 5 0s and 3 1s, which are “10,”0001”,”1”,”0”</div></pre></td></tr></table></figure>
<p><strong>Example 2:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">Input: Array = &#123;&quot;10&quot;, &quot;0&quot;, &quot;1&quot;&#125;, m = 1, n = 1</div><div class="line">Output: 2</div><div class="line"></div><div class="line">Explanation: You could form &quot;10&quot;, but then you&apos;d have nothing left. Better form &quot;0&quot; and &quot;1&quot;.</div></pre></td></tr></table></figure>
<h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p>The problem is really a knapsack-ish problem, so I knew DP was the way to go. In this problem, we have two knapsacks, one with capacity m and another with capacity n. The ‘weight’ of each item is the number of ones and zeroes in it. And the ‘value’ of each item is exactly one, since we just want to maximize the number of items. So for each item, i.e. <code>s</code>, we calculate its weight first and use DP for the rest. If you are unfamiliar with knapsack, maybe reading <a href="https://en.wikipedia.org/wiki/Knapsack_problem" target="_blank" rel="external">this</a> will help a little bit.</p>
<p>dp(i)(j) = the max number of strings that can be formed with i 0’s and j 1’s from the first few strings up to the current string s Catch: have to go from bottom right to top left </p>
<p>Why? If a cell in the memo is updated(because s is selected), we should be adding 1 to dp[i][j] from the previous iteration (when we were not considering s) </p>
<p>If we go from top left to bottom right, we would be using results from this iteration =&gt; overcounting</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findMaxForm</span><span class="params">(String[] strs, <span class="keyword">int</span> m, <span class="keyword">int</span> n)</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span>[][] dp = <span class="keyword">new</span> <span class="keyword">int</span>[m+<span class="number">1</span>][n+<span class="number">1</span>];</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; strs.length; i++)&#123;</div><div class="line">            <span class="keyword">int</span> zeros = <span class="number">0</span>;</div><div class="line">            <span class="keyword">int</span> ones = <span class="number">0</span>;</div><div class="line"></div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; strs[i].length(); j++)&#123;</div><div class="line">                <span class="keyword">if</span>(strs[i].charAt(j) == <span class="string">'0'</span>)&#123;</div><div class="line">                    zeros++;</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">else</span>&#123;</div><div class="line">                    ones++;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line"></div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = m; j &gt;= zeros; j--)&#123;</div><div class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> k = n; k &gt;= ones; k--)&#123;</div><div class="line">                    dp[j][k] = Math.max(dp[j-zeros][k-ones] + <span class="number">1</span>, dp[j][k]);</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line"></div><div class="line">            <span class="comment">// for (int j = 0; j &lt;= m; j++)&#123;</span></div><div class="line">            <span class="comment">//     for(int k = 0; k &lt;= n; k++)&#123;</span></div><div class="line">            <span class="comment">//         System.out.print(dp[j][k] + " ");</span></div><div class="line">            <span class="comment">//     &#125;</span></div><div class="line">            <span class="comment">//     System.out.println();</span></div><div class="line">            <span class="comment">// &#125;</span></div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> dp[m][n];</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>参考资料：<a href="https://discuss.leetcode.com/topic/71438/c-dp-solution-with-comments/4" target="_blank" rel="external">https://discuss.leetcode.com/topic/71438/c-dp-solution-with-comments/4</a></p>
</div><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a data-url="http://wf94.github.io/2017/05/27/474-Ones-and-Zeroes/" data-id="cj58c5fh000je0ed362iccczv" class="article-share-link">分享到</a><div class="tags"><a href="/tags/Medium/">Medium</a><a href="/tags/Dynamic-Programming/">Dynamic Programming</a></div><div class="post-nav"><a href="/2017/05/28/039-Combination-Sum/" class="pre">039 Combination Sum</a><a href="/2017/05/26/Seeking-Internship-III/" class="next">找个实习：面经-II</a></div><div id="container"></div><link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css"><script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script><script>var gitment = new Gitment({
  owner: 'wf94',
  repo: 'github-pages-comment',
  oauth: {
    client_id: '7b0276b84a27a192444a',
    client_secret: '536da99ff5aa11deb7c17dd76e824e2c601f7464',
  },
})
gitment.render('container')</script></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><div class="search-form"><input id="local-search-input" placeholder="Search" type="text" name="q" results="0"/><div id="local-search-result"></div></div></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/LeetCode/">LeetCode</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Tech/">Tech</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/Bit-Manipulation/" style="font-size: 15px;">Bit Manipulation</a> <a href="/tags/Array/" style="font-size: 15px;">Array</a> <a href="/tags/Easy/" style="font-size: 15px;">Easy</a> <a href="/tags/Linked-List/" style="font-size: 15px;">Linked List</a> <a href="/tags/Math/" style="font-size: 15px;">Math</a> <a href="/tags/Medium/" style="font-size: 15px;">Medium</a> <a href="/tags/String/" style="font-size: 15px;">String</a> <a href="/tags/Backtracking/" style="font-size: 15px;">Backtracking</a> <a href="/tags/Two-Pointers/" style="font-size: 15px;">Two Pointers</a> <a href="/tags/Dynamic-Programming/" style="font-size: 15px;">Dynamic Programming</a> <a href="/tags/Divide-and-Conquer/" style="font-size: 15px;">Divide and Conquer</a> <a href="/tags/Binary-Search/" style="font-size: 15px;">Binary Search</a> <a href="/tags/Sort/" style="font-size: 15px;">Sort</a> <a href="/tags/Hash-Table/" style="font-size: 15px;">Hash Table</a> <a href="/tags/Stack/" style="font-size: 15px;">Stack</a> <a href="/tags/Tree/" style="font-size: 15px;">Tree</a> <a href="/tags/DFS/" style="font-size: 15px;">DFS</a> <a href="/tags/BFS/" style="font-size: 15px;">BFS</a> <a href="/tags/Heap/" style="font-size: 15px;">Heap</a> <a href="/tags/Depth-first-Search/" style="font-size: 15px;">Depth-first Search</a> <a href="/tags/Brainteaser/" style="font-size: 15px;">Brainteaser</a> <a href="/tags/Design/" style="font-size: 15px;">Design</a> <a href="/tags/Greedy/" style="font-size: 15px;">Greedy</a> <a href="/tags/Reservoir-Sampling/" style="font-size: 15px;">Reservoir Sampling</a> <a href="/tags/Graph/" style="font-size: 15px;">Graph</a> <a href="/tags/LeetCode/" style="font-size: 15px;">LeetCode</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="http://wf.pe.hu" title="闲情逸致" target="_blank">闲情逸致</a><ul></ul><a href="http://wf.pe.hu/tech/tech-blog/" title="留言板" target="_blank">留言板</a><ul></ul><a href="http://dir.scmor.com/google" title="谷歌搜索（墙内）" target="_blank">谷歌搜索（墙内）</a><ul></ul><a href="http://tianyuh.com" title="塞外麾下炙" target="_blank">塞外麾下炙</a><ul></ul><a href="https://www.xiadong.info/" title="Shell32" target="_blank">Shell32</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">© <a href="/." rel="nofollow"> 2017, Fan Wu.打满鸡血来刷题.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="/css/jquery.fancybox.css?v=0.0.0"><script type="text/javascript" src="/js/search.js?v=0.0.0"></script><script>var search_path = 'search.xml';
if (search_path.length == 0) {
   search_path = 'search.xml';
}
var path = '/' + search_path;
searchFunc(path, 'local-search-input', 'local-search-result');
</script><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>